(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n.p+"static/media/loader.5d5d9eef.svg"},26:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(19),o=n.n(c),s=n(13),u=n(9),i=n(24),l="USERS_LOAD",d="USERS_LOAD_SUCCESS",f="USERS_LOAD_FAIL",m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return!0;case d:case f:return!1;default:return e}},h=n(17),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===d?[].concat(Object(h.a)(e),Object(h.a)(t.users)):e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.error;case l:case d:return null;default:return e}},g=Object(u.c)({isLoading:m,users:p,error:v}),E=n(5),b=n.n(E),w=n(7),O=n(22),y=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!(t.status>=400)){e.next=8;break}throw new Error(n.errors);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return{type:d,users:e}},_=b.a.mark(x),S=b.a.mark(N);function x(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(w.b)(y);case 3:return e=t.sent,t.next=6,Object(w.c)(j(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(w.c)((n=t.t0.toString(),{type:f,error:n}));case 12:case"end":return t.stop()}var n}),_,null,[[0,8]])}function N(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.d)(l,x);case 2:case"end":return e.stop()}}),S)}var k=b.a.mark(D);function D(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([N()]);case 2:case"end":return e.stop()}}),k)}var L=function(){var e=Object(i.a)(),t=Object(u.e)(g,Object(u.d)(Object(u.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return e.run(D),t};var U=n(25),Y=(n(37),function(e){var t=e.dateMonth,n=e.dateYear,c=e.names,o=Object(r.useState)(!1),s=Object(U.a)(o,2),u=s[0],i=s[1];return a.a.createElement("div",{className:"month",onMouseLeave:function(){return i(!u)},onMouseEnter:function(){return i(!u)}},a.a.createElement("div",{className:"header",style:{backgroundColor:c.length<=2?"gray":c.length<=6?"blue":c.length<=10?"green":"red"}},n,":",t),u&&a.a.createElement("div",{className:"body"},c.map((function(e,t){return a.a.createElement("div",{key:"".concat(t).concat(e),className:"name"},e)}))))}),M=n(23),R=n.n(M),A=(n(38),{loadUsers:function(){return{type:l}}}),I=Object(s.b)((function(e){return{isLoading:e.isLoading,users:e.users,error:e.error}}),A)((function(e){var t=e.loadUsers,n=e.users,c=e.error,o=e.isLoading;Object(r.useEffect)((function(){t()}),[]);var s=function(e){var t=[];t=(t=e.map((function(e){return{dateYear:+new Date(e.dob).getYear()+1900,dateMonth:+new Date(e.dob).getMonth()+1,names:["".concat(e.firstName," ").concat(e.lastName)],id:"".concat(new Date(e.dob).getMonth()).concat(+new Date(e.dob).getYear()+1900)}}))).map((function(e){return t.forEach((function(t){e.id===t.id&&e.names[0]!==t.names[0]&&e.names.push(t.names[0])})),e}));var n=[];t.forEach((function(e){0===n.length?n.push({year:e.dateYear,months:[]}):n.find((function(t){return e.dateYear!==t.year&&n.push({year:e.dateYear,months:[]})}))})),n.forEach((function(e){t.forEach((function(t){t.dateYear===e.year&&e.months.push(t)}))}));for(var r=[],a=0;a<n.length;a++)for(var c=0,o=1;c<n[a].months.length||o<=12;c++)n[a].months[c].dateMonth===o&&(r.push(n[a].months[c]),o++,c=0);return r}(n);return a.a.createElement("div",{className:"content"},o?a.a.createElement(r.Fragment,null,a.a.createElement("img",{src:R.a,className:"loader",alt:"loader"})):a.a.createElement("section",{className:"grid"},s.length?s.map((function(e){return a.a.createElement(Y,Object.assign({key:e.id},e))})):null),c&&a.a.createElement("div",{className:"error"},JSON.stringify(c)))})),T=L();var X=function(){return a.a.createElement(s.a,{store:T},a.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.48fb527c.chunk.js.map